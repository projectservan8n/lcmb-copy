{
  "name": "lcmb-material-management",
  "version": "2.0.0",
  "description": "LCMB Group Material Management System - Enhanced with Method Selection, PDF Upload Support, and Complete Integration",
  "main": "server.js",
  "keywords": [
    "material-management",
    "lcmb-group",
    "order-system",
    "pdf-upload",
    "n8n-integration",
    "electrical-supplies",
    "hvac-materials",
    "supplier-management",
    "quote-requests"
  ],
  "author": {
    "name": "LCMB Group Pty Ltd",
    "email": "office@lcmbelectrical.com.au",
    "url": "https://lcmbgroup.com.au"
  },
  "license": "ISC",
  "homepage": "https://lcmbgroup.com.au",
  "repository": {
    "type": "git",
    "url": "https://github.com/lcmb-group/material-management-system"
  },
  "bugs": {
    "url": "https://github.com/lcmb-group/material-management-system/issues",
    "email": "office@lcmbelectrical.com.au"
  },
  "scripts": {
    "start": "node server.js",
    "dev": "nodemon server.js",
    "test": "echo \"No tests specified yet\" && exit 0",
    "build": "echo \"No build process required for this project\"",
    "lint": "echo \"Linting not configured yet\"",
    "debug": "node --inspect server.js",
    "prod": "NODE_ENV=production node server.js",
    "health-check": "curl -f http://localhost:3000/health || exit 1",
    "webhook-test": "curl -f http://localhost:3000/debug/webhooks || exit 1"
  },
  "dependencies": {
    "express": "^4.18.2",
    "axios": "^1.6.0",
    "cors": "^2.8.5",
    "multer": "^1.4.5-lts.1",
    "helmet": "^7.1.0",
    "compression": "^1.7.4",
    "morgan": "^1.10.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.1",
    "@types/node": "^20.10.0",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  },
  "config": {
    "port": 3000,
    "nodeEnv": "development"
  },
  "nodemonConfig": {
    "watch": [
      "server.js",
      "*.js"
    ],
    "ext": "js,json,html,css",
    "ignore": [
      "node_modules/*",
      "public/*"
    ],
    "delay": 1000,
    "env": {
      "NODE_ENV": "development"
    }
  },
  "railway": {
    "build": {
      "builder": "NIXPACKS"
    },
    "deploy": {
      "numReplicas": 1,
      "sleepApplication": false,
      "restartPolicyType": "ON_FAILURE",
      "restartPolicyMaxRetries": 10
    }
  },
  "features": [
    "Method Selection Interface",
    "PDF Upload & Processing",
    "Interactive Material Selection",
    "Supplier Management",
    "Order & Quote Requests",
    "n8n Workflow Integration",
    "Google Sheets Logging",
    "Email Automation",
    "Google Drive PDF Storage",
    "Confirmation Flow",
    "Mobile Responsive Design",
    "Real-time Validation",
    "Error Handling & Logging"
  ],
  "api-endpoints": {
    "GET /": "Home page with preloaded data",
    "GET /api/data/load": "Load categories, suppliers, materials",
    "POST /api/order/submit": "Submit material orders (system/both methods)",
    "POST /api/quote/submit": "Submit quote requests (system/both methods)",
    "POST /api/pdf/upload": "Upload and process PDF material requests",
    "GET /health": "Health check and feature status",
    "GET /debug/webhooks": "Test all webhook connectivity",
    "GET /debug/pdf-test": "PDF upload API documentation",
    "GET /force-load": "Manually test data loading"
  },
  "webhook-integration": {
    "data-load": "https://primary-s0q-production.up.railway.app/webhook/dataload",
    "order-submit": "https://primary-s0q-production.up.railway.app/webhook/ordersubmit",
    "quote-submit": "https://primary-s0q-production.up.railway.app/webhook/quotesubmit",
    "pdf-upload": "https://primary-s0q-production.up.railway.app/webhook/pdfupload"
  },
  "system-requirements": {
    "memory": "512MB minimum, 1GB recommended",
    "storage": "100MB for application, additional for logs",
    "bandwidth": "Moderate - handles PDF uploads up to 10MB",
    "concurrent-users": "50+ concurrent users supported"
  },
  "environment-variables": {
    "PORT": "Server port (default: 3000)",
    "NODE_ENV": "Environment mode (development/production)",
    "WEBHOOK_BASE_URL": "Base URL for n8n webhooks",
    "MAX_FILE_SIZE": "Maximum PDF file size in bytes",
    "SESSION_SECRET": "Secret for session management",
    "CORS_ORIGIN": "Allowed CORS origins"
  },
  "deployment": {
    "platform": "Railway",
    "build-command": "npm install",
    "start-command": "npm start",
    "health-check": "/health",
    "auto-scaling": true,
    "zero-downtime": true
  },
  "monitoring": {
    "health-endpoint": "/health",
    "debug-endpoints": [
      "/debug/webhooks",
      "/debug/pdf-test",
      "/force-load"
    ],
    "logging": "Morgan HTTP logging + custom application logs",
    "error-tracking": "Built-in error handling with detailed logging"
  },
  "security": {
    "helmet": "Security headers",
    "cors": "Cross-origin resource sharing",
    "file-validation": "PDF file type and size validation",
    "input-sanitization": "Request data validation",
    "rate-limiting": "Built-in Express rate limiting"
  },
  "performance": {
    "compression": "Gzip compression enabled",
    "static-files": "Express static file serving",
    "request-timeout": "60 seconds for PDF uploads",
    "memory-efficient": "Streaming file uploads",
    "caching": "Static asset caching headers"
  },
  "frontend-features": [
    "Vanilla JavaScript ES6+",
    "CSS Grid & Flexbox layouts",
    "Responsive design (mobile-first)",
    "Progressive enhancement",
    "No external JavaScript dependencies",
    "Base64 PDF encoding",
    "Real-time form validation",
    "Drag & drop file uploads",
    "Interactive material selection",
    "Confirmation workflow"
  ],
  "backend-features": [
    "Express.js REST API",
    "n8n webhook integration", 
    "PDF processing & validation",
    "Google Drive integration",
    "Email automation via Gmail API",
    "Google Sheets data logging",
    "Error handling & logging",
    "Health monitoring",
    "Debug endpoints",
    "CORS & security headers"
  ],
  "data-flow": {
    "step-1": "User selects method (System/PDF/Both)",
    "step-2": "Data loaded from Google Sheets via n8n",
    "step-3": "User fills form with materials/PDF",
    "step-4": "Confirmation page shows all details",
    "step-5": "Submission to appropriate n8n webhook",
    "step-6": "PDF uploaded to Google Drive (if applicable)",
    "step-7": "Email sent to supplier via Gmail API",
    "step-8": "Order/Quote logged to Google Sheets",
    "step-9": "Success confirmation to user"
  },
  "supported-file-types": {
    "pdf": {
      "mime-type": "application/pdf",
      "max-size": "10MB",
      "validation": "File type and size validation",
      "encoding": "Base64 for API transfer",
      "storage": "Google Drive with public access"
    }
  },
  "browser-compatibility": {
    "chrome": "90+",
    "firefox": "88+", 
    "safari": "14+",
    "edge": "90+",
    "mobile": "iOS Safari 14+, Chrome Mobile 90+"
  },
  "accessibility": {
    "keyboard-navigation": "Full keyboard support",
    "screen-readers": "ARIA labels and semantic HTML",
    "color-contrast": "WCAG AA compliant",
    "focus-indicators": "Visible focus states",
    "responsive-text": "Scalable font sizes"
  }
}
